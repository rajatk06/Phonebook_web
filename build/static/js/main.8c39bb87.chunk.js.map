{"version":3,"sources":["apis/axios.js","components/newUserForm.js","components/SearchBar.js","components/Contacts.js","components/App.js","index.js"],"names":["localURL","window","location","protocol","hostname","URL","axios","create","baseURL","Input","state","name","email","phone","err","undefined","onPhoneNumber","num","a","post","field","value","msg","data","alert","onEmail","submit","render","Modal","trigger","Button","floated","primary","centered","Header","Content","image","Form","Group","inline","label","placeholder","error","required","Icon","color","size","onClick","type","React","Component","Search","SearchSubmit","props","setValue","style","width","onChange","e","setState","icon","inverted","circular","link","Contacts","activeIndex","users","total","componentDidMount","fetchUsers","componentDidUpdate","searchValue","page","val","trim","replace","path","length","get","onUserDelete","_id","i","delete","onUserEdit","console","log","handleClick","titleProps","index","newIndex","pageChange","activePage","renderUser","user","Accordion","key","fluid","styled","Title","active","Segment","display","List","map","no","ind","Item","content","marginLeft","position","this","Pagination","defaultActivePage","totalPages","onPageChange","App","margin","marginTop","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8c39bb87.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// eslint-disable-next-line\nconst apiURL = \"https://phonebook-server.herokuapp.com/\";\n// eslint-disable-next-line\nconst localURL =\n  window.location.protocol + \"//\" + window.location.hostname + \":\" + 3001;\n\nconst URL = window.location.hostname === \"localhost\" ? localURL : apiURL;\n\nexport default axios.create({\n  baseURL: URL\n});\n","import React from \"react\";\r\nimport axios from \"../apis/axios\"\r\nimport { Button, Icon, Form, Modal } from \"semantic-ui-react\";\r\n\r\nclass Input extends React.Component {\r\n  state = { name: \"\", email: [], phone: [], err: { name: undefined, email: undefined, phone: undefined } }\r\n  onPhoneNumber = async (num) => {\r\n    const msg = (await axios.post(\"/validate\", { field: \"phone\", value: num })).data\r\n\r\n    alert(msg.err ? msg.err : msg);\r\n    if (msg.err) return false;\r\n    else return true;\r\n\r\n  };\r\n  onEmail = async (email) => {\r\n    const msg = (await axios.post(\"/validate\", { field: \"email\", value: email })).data\r\n\r\n    alert(msg.err ? msg.err : msg);\r\n    if (msg.err) return false;\r\n    else return true;\r\n  };\r\n  submit = () => {\r\n\r\n  }\r\n  render = () => {\r\n    return (\r\n      <Modal\r\n        trigger={\r\n          <Button floated=\"right\" primary>\r\n            Add User\r\n          </Button>\r\n        }\r\n        centered={false}\r\n      >\r\n        <Modal.Header></Modal.Header>\r\n        <Modal.Content image>\r\n          <Form>\r\n            <Form.Group inline>\r\n              <Form.Input label=\"Name\" placeholder=\"Name\"\r\n                name=\"name\"\r\n                error={this.state.err.name} required />\r\n            </Form.Group>\r\n            <Form.Group inline>\r\n              <Form.Input\r\n                label=\"Phone Number\"\r\n                placeholder=\"Phone Number\"\r\n                name=\"phone\"\r\n                error={this.state.err.phone}\r\n                required\r\n              />\r\n              <Icon\r\n                name=\"add\"\r\n                color=\"green\"\r\n                size=\"large\"\r\n                onClick={this.onPhoneNumber}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group inline>\r\n              <Form.Input\r\n                label=\"E-mail\"\r\n                placeholder=\"E-mail\"\r\n                name=\"email\"\r\n                error={this.state.err.email}\r\n              />\r\n              <Icon\r\n                name=\"add\"\r\n                color=\"green\"\r\n                size=\"large\"\r\n                onClick={this.onEmail}\r\n              />\r\n            </Form.Group>\r\n            <Form.Button type=\"submit\" onClick={this.submit} primary>\r\n              Submit\r\n            </Form.Button>\r\n          </Form>\r\n        </Modal.Content>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport { Input, Icon } from \"semantic-ui-react\";\r\n\r\nclass Search extends React.Component {\r\n  state = { value: \"\" }\r\n  SearchSubmit = async () => {\r\n    this.props.setValue(this.state.value)\r\n  }\r\n  render = () => {\r\n    return (\r\n      <Input\r\n        style={{ width: \"40%\" }}\r\n        name=\"value\"\r\n        onChange={(e, { name, value }) => this.setState({ [name]: value })}\r\n        icon={<Icon name=\"search\" onClick={this.SearchSubmit} inverted circular link />}\r\n        placeholder=\"Search...\"\r\n      />\r\n    );\r\n  };\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport axios from \"../apis/axios\"\r\nimport { List, Segment, Icon, Accordion, Pagination } from \"semantic-ui-react\";\r\nclass Contacts extends React.Component {\r\n  state = {\r\n    activeIndex: 0, users: [], total: 0, value: \"\"\r\n  };\r\n\r\n  componentDidMount = () => this.fetchUsers(0)\r\n\r\n  componentDidUpdate = () => {\r\n    if (this.props.searchValue !== this.state.value) {\r\n      // eslint-disable-next-line\r\n      this.state.value = this.props.searchValue;\r\n      this.fetchUsers(0)\r\n    }\r\n  }\r\n\r\n  fetchUsers = async (page) => {\r\n    let val = this.state.value; val = val.trim(); val = val.replace(/[/^ *$/]{2,}/g, \" \");\r\n    const path = val && val.length ? `/users?page=${page}&value=${val}` : `/users?page=${page}`;\r\n    const { users, total } = (await axios.get(path)).data\r\n    if (users)\r\n      this.setState({ users, total })\r\n  }\r\n  onUserDelete = async (_id, i) => {\r\n    const msg = (await axios.delete(`/users?_id=${_id}`)).data\r\n    this.fetchUsers(i < 4 ? 0 : (i + 1) / 4)\r\n    alert(msg.err ? msg.err : msg);\r\n  };\r\n  onUserEdit = (_id, i) => {\r\n    console.log(_id, i)\r\n  };\r\n\r\n  handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const { activeIndex } = this.state;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n\r\n    this.setState({ activeIndex: newIndex });\r\n  };\r\n  pageChange = (e, { activePage }) => { if (activePage + 1 >= 0 && activePage + 1 <= this.state.total / 4) this.fetchUsers(activePage - 1); }\r\n  renderUser = (user, i) => {\r\n\r\n    const { activeIndex } = this.state;\r\n    return (<Accordion key={user._id} fluid styled>\r\n      <Accordion.Title\r\n        active={activeIndex === i}\r\n        index={i}\r\n        onClick={this.handleClick}\r\n      >\r\n        <Icon name=\"dropdown\" />{user.name}\r\n      </Accordion.Title>\r\n      <Accordion.Content active={activeIndex === i}>\r\n        <Segment>\r\n          <div style={{ display: \"flex\" }}>\r\n            <List>\r\n              {user.phone.map((no, ind) => <List.Item icon=\"phone\" key={ind} content={no} />)}\r\n            </List>\r\n            <div style={{ marginLeft: \"15%\" }}>\r\n              <List>\r\n                {user.email.map((email, ind) => <List.Item icon=\"mail\" key={ind} content={email} />)}\r\n              </List>\r\n            </div>\r\n            <div style={{ position: \"relative\", width: \"100%\" }}></div>\r\n            <div style={{ display: \"flex\" }}  >\r\n              <Icon\r\n                name=\"delete\"\r\n                color=\"red\"\r\n                size=\"big\"\r\n                onClick={() => this.onUserDelete(user._id, i)}\r\n              />\r\n              <Icon\r\n                name=\"edit\"\r\n                color=\"green\"\r\n                size=\"big\"\r\n                onClick={() => this.onUserEdit(user._id, i)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Segment>\r\n      </Accordion.Content>\r\n    </Accordion>\r\n    )\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.users.map((user, i) => this.renderUser(user, i))}\r\n        <br />\r\n        <center>\r\n          <Pagination defaultActivePage={0} totalPages={this.state.total / 4} onPageChange={this.pageChange} />\r\n        </center>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Contacts;\r\n","import React from \"react\";\nimport { Segment } from \"semantic-ui-react\";\n\nimport NewForm from \"./newUserForm\";\nimport Search from \"./SearchBar\";\nimport Contacts from \"./Contacts\";\n\nclass App extends React.Component {\n  state = { value: \"\" }\n  render = () => {\n    return (\n      <div style={{ margin: \"0 15vw 0 15vw\" }}>\n        <Segment style={{ marginTop: \"2rem\" }}>\n          <Search setValue={(value) => this.setState({ value })} />\n          <NewForm />\n        </Segment>\n        <br />\n        <Contacts searchValue={this.state.value} />\n      </div>\n    );\n  };\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}