{"version":3,"sources":["apis/axios.js","components/newUserForm.js","components/SearchBar.js","components/Contacts.js","components/App.js","index.js"],"names":["localURL","window","location","protocol","hostname","URL","axios","create","baseURL","default_state","_id","name","email","phone","phn_err","undefined","email_err","modalOpen","curr_email","curr_phone","Input","state","onPhoneNumber","a","num","length","setState","includes","post","field","value","msg","data","err","onEmail","test","handleChange","e","removeTag","t","filter","tag","renderTags","map","i","Label","key","color","size","Icon","link","onClick","submit","user_data","_","omit","alert","put","props","resetType","render","Modal","trigger","Button","floated","primary","centered","open","onClose","closeIcon","Header","formType","Content","image","Form","Group","inline","label","placeholder","onChange","required","error","type","React","Component","getDerivedStateFromProps","formData","Search","SearchSubmit","setValue","style","width","icon","inverted","circular","Contacts","activeIndex","users","total","fetching","componentDidMount","fetchUsers","setFetch","componentDidUpdate","searchValue","page","val","trim","replace","path","get","setTimeout","onUserDelete","delete","onUserEdit","editRqst","handleClick","titleProps","index","newIndex","pageChange","activePage","renderUser","user","Accordion","fluid","styled","Title","active","Segment","display","List","no","ind","Item","content","marginLeft","position","this","height","Dimmer","Loader","Pagination","defaultActivePage","totalPages","onPageChange","App","fetch","margin","marginTop","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b30097e0.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// eslint-disable-next-line\nconst apiURL = \"https://phonebook-server.herokuapp.com/\";\n// eslint-disable-next-line\nconst localURL =\n  window.location.protocol + \"//\" + window.location.hostname + \":\" + 3001;\n\nconst URL = window.location.hostname === \"localhost\" ? localURL : apiURL;\n\nexport default axios.create({\n  baseURL: URL\n});\n","import React from \"react\";\r\nimport axios from \"../apis/axios\"\r\nimport _ from \"lodash\"\r\nimport { Button, Icon, Form, Modal, Label } from \"semantic-ui-react\";\r\n// eslint-disable-next-line\r\nconst default_state = {\r\n  _id: \"\",\r\n  name: \"\",\r\n  email: [], phone: [],\r\n  phn_err: undefined, email_err: undefined,\r\n  modalOpen: false,\r\n  curr_email: \"\", curr_phone: \"\"\r\n}\r\nclass Input extends React.Component {\r\n  state = { ...default_state }\r\n\r\n  static getDerivedStateFromProps = (props, state) => {\r\n    if (props.formType === \"Edit\" && !state.modalOpen) return { ...props.formData, modalOpen: true }\r\n    return null;\r\n  }\r\n  onPhoneNumber = async () => {\r\n    const num = this.state.curr_phone;\r\n    if (num.length !== 10) {\r\n      this.setState({ phn_err: \"Phone No. invalid\" }); return;\r\n    }\r\n    if (this.state.phone.includes(num)) {\r\n      this.setState({ phn_err: \"Phone No. already registered\" }); return;\r\n    }\r\n    const msg = (await axios.post(\"/validate\", { field: \"phone\", value: num })).data\r\n\r\n    if (msg.err) this.setState({ phn_err: msg.err })\r\n    else this.setState({ phone: [...this.state.phone, num], curr_phone: \"\", phn_err: undefined });\r\n\r\n  };\r\n  onEmail = async () => {\r\n    const email = this.state.curr_email\r\n    // eslint-disable-next-line\r\n    if (!email.length || !/^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/.test(email)) {\r\n      this.setState({ email_err: \"Invalid E-mail\" }); return;\r\n    } if (this.state.email.includes(email)) {\r\n      this.setState({ email_err: \"E-mail already registered\" })\r\n      return;\r\n    }\r\n    const msg = (await axios.post(\"/validate\", { field: \"email\", value: email })).data\r\n\r\n    if (msg.err) this.setState({ email_err: msg.err })\r\n    else this.setState({ email: [...this.state.email, email], curr_email: \"\", email_err: undefined });\r\n  };\r\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\r\n  removeTag = (field, t) => {\r\n    this.setState({ [field]: this.state[field].filter(tag => tag !== t) });\r\n  };\r\n  renderTags = (field) => this.state[field].map((tag, i) => {\r\n    return (\r\n      <Label key={i} color=\"orange\" size=\"large\">\r\n        {tag}\r\n        <Icon\r\n          name=\"delete\"\r\n          link\r\n          onClick={() => {\r\n            this.removeTag(field, tag);\r\n          }}\r\n        />\r\n      </Label>\r\n    );\r\n  });\r\n  submit = async () => {\r\n    if (!this.state.phone.length) this.setState({ phn_err: \"Phone No. required\" })\r\n    else {\r\n      let user_data;\r\n      if (this.state._id === \"\") {\r\n        user_data = _.omit(this.state, [\"_id\", \"err\", \"curr_phone\", \"curr_email\", \"modalOpen\"]);\r\n        const msg = (await axios.post(\"/users\", user_data)).data\r\n        alert(msg.err ? msg.err : msg);\r\n      }\r\n      else {\r\n        user_data = _.omit(this.state, [\"err\", \"curr_phone\", \"curr_email\", \"modalOpen\"])\r\n        const msg = (await axios.put(\"/users\", user_data)).data\r\n        alert(msg.err ? msg.err : msg);\r\n      }\r\n      this.props.resetType(user_data);\r\n      this.setState({ ...default_state })\r\n    }\r\n  }\r\n  render = () => {\r\n    return (\r\n      <Modal\r\n        trigger={\r\n          <Button onClick={() => this.setState({ modalOpen: true })} floated=\"right\" primary>\r\n            Add User\r\n          </Button>\r\n        }\r\n        centered={false}\r\n        open={this.state.modalOpen}\r\n        onClose={() => {\r\n          this.props.resetType();\r\n          this.setState({ ...default_state })\r\n        }}\r\n        closeIcon\r\n      >\r\n        <Modal.Header>{this.props.formType} User</Modal.Header>\r\n        <Modal.Content image>\r\n          <Form>\r\n            <Form.Group inline>\r\n              <Form.Input label=\"Name\" placeholder=\"Name\"\r\n                name=\"name\"\r\n                value={this.state.name}\r\n                onChange={this.handleChange}\r\n                required />\r\n            </Form.Group>\r\n            <Form.Group inline>\r\n              <Form.Input\r\n                label=\"Phone Number\"\r\n                placeholder=\"Phone Number\"\r\n                name=\"curr_phone\"\r\n                value={this.state.curr_phone}\r\n                onChange={this.handleChange}\r\n                error={this.state.phn_err}\r\n              />\r\n              <Icon\r\n                name=\"add\"\r\n                color=\"green\"\r\n                size=\"large\"\r\n                onClick={this.onPhoneNumber}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group> {this.renderTags(\"phone\")}</Form.Group>\r\n            <br />\r\n            <Form.Group inline>\r\n              <Form.Input\r\n                label=\"E-mail\"\r\n                placeholder=\"E-mail\"\r\n                name=\"curr_email\"\r\n                value={this.state.curr_email}\r\n                onChange={this.handleChange}\r\n                error={this.state.email_err}\r\n              />\r\n              <Icon\r\n                name=\"add\"\r\n                color=\"green\"\r\n                size=\"large\"\r\n                onClick={this.onEmail}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group> {this.renderTags(\"email\")}</Form.Group>\r\n            <br />\r\n            <Form.Button type=\"submit\" onClick={this.submit} primary>\r\n              Submit\r\n            </Form.Button>\r\n          </Form>\r\n        </Modal.Content>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport { Input, Icon } from \"semantic-ui-react\";\r\n\r\nclass Search extends React.Component {\r\n  state = { value: \"\" }\r\n  SearchSubmit = async () => {\r\n    this.props.setValue(this.state.value)\r\n  }\r\n  render = () => {\r\n    return (\r\n      <Input\r\n        style={{ width: \"40%\" }}\r\n        name=\"value\"\r\n        onChange={(e, { name, value }) => this.setState({ [name]: value })}\r\n        icon={<Icon name=\"search\" onClick={this.SearchSubmit} inverted circular link />}\r\n        placeholder=\"Search...\"\r\n      />\r\n    );\r\n  };\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport axios from \"../apis/axios\"\r\nimport { List, Segment, Icon, Accordion, Pagination, Dimmer, Loader } from \"semantic-ui-react\";\r\nclass Contacts extends React.Component {\r\n  state = {\r\n    activeIndex: 0, users: [], total: 0, value: \"\", fetching: false\r\n  };\r\n\r\n  componentDidMount = () => { this.fetchUsers(0); this.props.setFetch(this.fetchUsers) }\r\n\r\n  componentDidUpdate = () => {\r\n    if (this.props.searchValue !== this.state.value) {\r\n      // eslint-disable-next-line\r\n      this.state.value = this.props.searchValue;\r\n      this.fetchUsers(0)\r\n    }\r\n  }\r\n\r\n  fetchUsers = async (page) => {\r\n    this.setState({ fetching: true })\r\n    page = page ? page : 0\r\n    let val = this.state.value; val = val.trim(); val = val.replace(/[/^ *$/]{2,}/g, \" \");\r\n    const path = val && val.length ? `/users?page=${page}&value=${val}` : `/users?page=${page}`;\r\n    const { users, total } = (await axios.get(path)).data\r\n    if (users)\r\n      this.setState({ users, total })\r\n    setTimeout(() => { this.setState({ fetching: false }) }, 500)\r\n\r\n  }\r\n  onUserDelete = async (_id, i) => {\r\n    const msg = (await axios.delete(`/users?_id=${_id}`)).data\r\n    this.fetchUsers(i < 4 ? 0 : (i + 1) / 4)\r\n    alert(msg.err ? msg.err : msg);\r\n  };\r\n  onUserEdit = (i) => {\r\n    this.props.editRqst(\"Edit\", { ...this.state.users[i] });\r\n  };\r\n\r\n  handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const { activeIndex } = this.state;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n\r\n    this.setState({ activeIndex: newIndex });\r\n  };\r\n  pageChange = (e, { activePage }) => { this.fetchUsers(activePage - 1); }\r\n  renderUser = (user, i) => {\r\n\r\n    const { activeIndex } = this.state;\r\n    return (<Accordion key={user._id} fluid styled>\r\n      <Accordion.Title\r\n        active={activeIndex === i}\r\n        index={i}\r\n        onClick={this.handleClick}\r\n      >\r\n        <Icon name=\"dropdown\" />{user.name}\r\n      </Accordion.Title>\r\n      <Accordion.Content active={activeIndex === i}>\r\n        <Segment>\r\n          <div style={{ display: \"flex\" }}>\r\n            <List>\r\n              {user.phone.map((no, ind) => <List.Item icon=\"phone\" key={ind} content={no} />)}\r\n            </List>\r\n            <div style={{ marginLeft: \"15%\" }}>\r\n              <List>\r\n                {user.email.map((email, ind) => <List.Item icon=\"mail\" key={ind} content={email} />)}\r\n              </List>\r\n            </div>\r\n            <div style={{ position: \"relative\", width: \"100%\" }}></div>\r\n            <div style={{ display: \"flex\" }}  >\r\n              <Icon\r\n                name=\"delete\"\r\n                color=\"red\"\r\n                size=\"big\"\r\n                onClick={() => this.onUserDelete(user._id, i)}\r\n              />\r\n              <Icon\r\n                name=\"edit\"\r\n                color=\"green\"\r\n                size=\"big\"\r\n                onClick={() => this.onUserEdit(i)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Segment>\r\n      </Accordion.Content>\r\n    </Accordion>\r\n    )\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n\r\n        {this.state.fetching ? <Segment style={{ height: \"30vh\" }}>\r\n          <Dimmer active inverted>\r\n            <Loader size='large'>Loading</Loader>\r\n          </Dimmer>\r\n        </Segment> : this.state.users.map((user, i) => this.renderUser(user, i))}\r\n        <br />\r\n        <center>\r\n          <Pagination defaultActivePage={0} totalPages={this.state.total / 4} onPageChange={this.pageChange} />\r\n        </center>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Contacts;\r\n","import React from \"react\";\nimport { Segment } from \"semantic-ui-react\";\n\nimport NewForm from \"./newUserForm\";\nimport Search from \"./SearchBar\";\nimport Contacts from \"./Contacts\";\n\nclass App extends React.Component {\n  state = { value: \"\", formType: \"Add\", formData: {}, fetch: () => { } }\n  render = () => {\n    return (\n      <div style={{ margin: \"0 15vw 0 15vw\" }}>\n        <Segment style={{ marginTop: \"2rem\" }}>\n          <Search setValue={(value) => this.setState({ value })} />\n          <NewForm formType={this.state.formType} formData={this.state.formData} resetType={(user) => {\n            this.setState({ formType: \"Add\", formData: user });\n            this.state.fetch()\n          }} />\n        </Segment>\n        <br />\n        <Contacts\n          searchValue={this.state.value} setFetch={fetch => this.setState({ fetch })}\n          editRqst={(formType, formData) => this.setState({ formType, formData })}\n        />\n      </div>\n    );\n  };\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}