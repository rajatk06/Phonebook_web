(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{245:function(e,t,a){e.exports=a(430)},430:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(54),l=a.n(c),o=a(43),i=a(45),u=a(44),s=a(448),m=a(25),p=a.n(m),d=a(46),h=a(209),f=a.n(h),v=window.location.protocol+"//"+window.location.hostname+":3001",E="localhost"===window.location.hostname?v:"https://phonebook-server.herokuapp.com/",b=f.a.create({baseURL:E}),g=a(442),y=a(431),w=a(441),k=a(35),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:[],phone:[],err:{name:void 0,email:void 0,phone:void 0}},e.onPhoneNumber=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/validate",{field:"phone",value:t});case 2:if(a=e.sent.data,alert(a.err?a.err:a),!a.err){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onEmail=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.post("/validate",{field:"email",value:t});case 2:if(a=e.sent.data,alert(a.err?a.err:a),!a.err){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.submit=function(){},e.render=function(){return r.a.createElement(g.a,{trigger:r.a.createElement(y.a,{floated:"right",primary:!0},"Add User"),centered:!1},r.a.createElement(g.a.Header,null),r.a.createElement(g.a.Content,{image:!0},r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{inline:!0},r.a.createElement(w.a.Input,{label:"Name",placeholder:"Name",name:"name",error:e.state.err.name,required:!0})),r.a.createElement(w.a.Group,{inline:!0},r.a.createElement(w.a.Input,{label:"Phone Number",placeholder:"Phone Number",name:"phone",error:e.state.err.phone,required:!0}),r.a.createElement(k.a,{name:"add",color:"green",size:"large",onClick:e.onPhoneNumber})),r.a.createElement(w.a.Group,{inline:!0},r.a.createElement(w.a.Input,{label:"E-mail",placeholder:"E-mail",name:"email",error:e.state.err.email}),r.a.createElement(k.a,{name:"add",color:"green",size:"large",onClick:e.onEmail})),r.a.createElement(w.a.Button,{type:"submit",onClick:e.submit,primary:!0},"Submit"))))},e}return a}(r.a.Component),j=a(230),C=a(440),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.SearchSubmit=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.setValue(e.state.value);case 1:case"end":return t.stop()}}),t)}))),e.render=function(){return r.a.createElement(C.a,{style:{width:"40%"},name:"value",onChange:function(t,a){var n=a.name,r=a.value;return e.setState(Object(j.a)({},n,r))},icon:r.a.createElement(k.a,{name:"search",onClick:e.SearchSubmit,inverted:!0,circular:!0,link:!0}),placeholder:"Search..."})},e}return a}(r.a.Component),U=a(231),I=a(446),S=a(444),P=a(445),A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={activeIndex:0,users:[],total:0,value:""},e.componentDidMount=function(){return e.fetchUsers(0)},e.componentDidUpdate=function(){e.props.searchValue!==e.state.value&&(e.state.value=e.props.searchValue,e.fetchUsers(0))},e.fetchUsers=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,c,l,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n=(n=e.state.value).trim()).replace(/[/^ *$/]{2,}/g," "),r=n&&n.length?"/users?page=".concat(a,"&value=").concat(n):"/users?page=".concat(a),t.next=6,b.get(r);case 6:c=t.sent.data,l=c.users,o=c.total,l&&e.setState({users:l,total:o});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUserDelete=function(){var t=Object(d.a)(p.a.mark((function t(a,n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.delete("/users?_id=".concat(a));case 2:r=t.sent.data,e.fetchUsers(n<4?0:(n+1)/4),alert(r.err?r.err:r);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.onUserEdit=function(e,t){console.log(e,t)},e.handleClick=function(t,a){var n=a.index,r=e.state.activeIndex===n?-1:n;e.setState({activeIndex:r})},e.pageChange=function(t,a){var n=a.activePage;n+1>=0&&n+1<=e.state.total/4&&e.fetchUsers(n-1)},e.renderUser=function(t,a){var n=e.state.activeIndex;return r.a.createElement(I.a,{key:t._id,fluid:!0,styled:!0},r.a.createElement(I.a.Title,{active:n===a,index:a,onClick:e.handleClick},r.a.createElement(k.a,{name:"dropdown"}),t.name),r.a.createElement(I.a.Content,{active:n===a},r.a.createElement(s.a,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(S.a,null,t.phone.map((function(e,t){return r.a.createElement(S.a.Item,{icon:"phone",key:t,content:e})}))),r.a.createElement("div",{style:{marginLeft:"15%"}},r.a.createElement(S.a,null,t.email.map((function(e,t){return r.a.createElement(S.a.Item,{icon:"mail",key:t,content:e})})))),r.a.createElement("div",{style:{position:"relative",width:"100%"}}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(k.a,{name:"delete",color:"red",size:"big",onClick:function(){return e.onUserDelete(t._id,a)}}),r.a.createElement(k.a,{name:"edit",color:"green",size:"big",onClick:function(){return e.onUserEdit(t._id,a)}}))))))},e}return Object(U.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.users.map((function(t,a){return e.renderUser(t,a)})),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement(P.a,{defaultActivePage:0,totalPages:this.state.total/4,onPageChange:this.pageChange})))}}]),a}(r.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.render=function(){return r.a.createElement("div",{style:{margin:"0 15vw 0 15vw"}},r.a.createElement(s.a,{style:{marginTop:"2rem"}},r.a.createElement(O,{setValue:function(t){return e.setState({value:t})}}),r.a.createElement(x,null)),r.a.createElement("br",null),r.a.createElement(A,{searchValue:e.state.value}))},e}return a}(r.a.Component);l.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.8c39bb87.chunk.js.map